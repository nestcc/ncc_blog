# 进程分类

* 实时进程
  * 跟用户交互的进程，需要时时响应。
* 普通进程
  * 响应不需要那么及时的进程。压缩文件，视频的编码，解码。



# 上下文切换

* 前提：多进程，时间片乱换算法，如：`p1`,`p2`。
* 进程的一些信息，如程序计数器，变量，程序运行到哪里了，一些寄存器里的值。这就是`上下文`。
* 当进程调度时，如`p1` ---> `p2`，操作系统需要把`p2`的上下文加载进来，就是上下文切换。



# 调度算法



## FIFO

> 谁先来谁先被CPU调度

优势：

* 简单，

缺点：

* 没有优先级，
* 需要长时间等待进程执行完，其他程序才能分配到CPU，
* 普通进程会把实时进程卡住，



## STF 最短优先

> 谁的时间短，谁先被调度

优势：

* 整体等待时间下降了

劣势：

* 长时间的进程先到达的时候，后面的进程需要等待



## STCF

> 谁先完成谁先调度，
>
> 第一个抢占示的调度。
>
> 后来的进程可以抢占cpu。

劣势：

* 长时间任务饥饿。
* 响应时间长。



## RR轮询

> 将单位时间分成时间片， CPU把时间片分给个个进程
>
> 个个进程是在并行的。





# 进程队列

* 全局队列
  * 多个CPU：全局队列
  * 会发生加锁、解锁操作，影响性能
* 局部队列
  * 多个CPU，每个CPU都会有自己的进程队列
  * 每个CPU从自己的队列里取进程然后执行



# 进程优先级

不是每一个进程都有相同的优先级

## 查看进程状态和优先级

```
ps -l
```



## nice

进程的nice值代表进程对别的进程的友好程度。

一个进程越友好，他越不会去抢占CPU，其优先级也会越低。

